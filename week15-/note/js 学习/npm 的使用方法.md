---
title: npm 的使用方法
created: 2025-06-22
source: Cherry Studio
tags: 
---
### 1. `npm` (Node Package Manager)

`npm` 是 Node.js 的默认包管理器，用于安装、管理和运行项目的依赖包。

| 命令                     | 说明                                                                                                                                                                                                                                                        | 示例                                                                                                                                                                                                                                                                 |
| :----------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `npm init`               | 在当前目录下初始化一个新的 `npm` 项目，创建一个 `package.json` 文件。会引导你回答一些配置问题。可以使用 `-y` 参数跳过问询直接生成默认配置。                                                                                                                                                                                                                                                                       | `npm init`<br>`npm init -y`                                                                                                                                                                                                                                    |
| `npm install <package>`  | 安装指定的包到项目的 `node_modules` 目录，并将其添加到 `package.json` 的 `dependencies` 中。                                                                                                                                                                                                                                                                                 | `npm install react`<br>`npm install lodash --save` （同上，`--save` 是默认行为）                                                                                                                                                                                              |
| `npm install`            | 安装 `package.json` 文件中列出的所有依赖项。                                                                                                                                                                                                                                                                                                                         | `npm install`                                                                                                                                                                                                                                                          |
| `npm install <package> -D` | 安装指定的包到项目的 `node_modules` 目录，并将其添加到 `package.json` 的 `devDependencies` 中（开发时依赖）。                                                                                                                                                                                                                                                                    | `npm install eslint -D`<br>`npm install --save-dev sass` （同上，`--save-dev` 是默认行为）                                                                                                                                                                                   |
| `npm uninstall <package>`| 卸载指定的包，及其在 `package.json` 中的记录（如果存在）。                                                                                                                                                                                                                                                                                                                  | `npm uninstall react`<br>`npm uninstall lodash --save` （卸载并从 `dependencies` 中移除）<br>`npm uninstall --save-dev @babel/core` （卸载并从 `devDependencies` 中移除）                                                                                         |
| `npm update <package>`   | 更新指定的包到其 `package.json` 中允许的最新版本（根据版本范围）。                                                                                                                                                                                                                                                                                                         | `npm update react`<br>`npm update` （更新所有包）                                                                                                                                                                                                                      |
| `npm install -g <package>` | 全局安装指定的包。全局安装的包通常是命令行工具，可以从任何地方访问。                                                                                                                                                                                                                                                                                                       | `npm install -g typescript`<br>`npm install -g create-react-app`                                                                                                                                                                                                           |
| `npm uninstall -g <package>` | 全局卸载指定的包。                                                                                                                                                                                                                                                                                                                                               | `npm uninstall -g typescript`                                                                                                                                                                                                                                          |
| `npm run <script-name>`  | 执行 `package.json` 中 `scripts` 部分定义的脚本。这是运行项目任务的主要方式（如构建、测试、启动开发服务器等）。                                                                                                                                                                                                                                                          | `npm run start`<br>`npm run build`<br>`npm run dev`                                                                                                                                                                                                                    |
| `npm start`              | `npm run start` 的简写，执行 `package.json` 中 `start` 脚本。                                                                                                                                                                                                                                                                                                           | `npm start`                                                                                                                                                                                                                                                            |
| `npm test`               | `npm run test` 的简写，执行 `package.json` 中 `test` 脚本。                                                                                                                                                                                                                                                                                                          | `npm test`                                                                                                                                                                                                                                                             |
| `npm list`               | 列出当前项目的已安装所有包（包括它们各自依赖的版本）。                                                                                                                                                                                                                                                                                                             | `npm list`<br>`npm list --depth=0` （只显示直接依赖）                                                                                                                                                                                                                   |
| `npm outdated`           | 检查项目中哪些包有可用更新。                                                                                                                                                                                                                                                                                                                                       | `npm outdated`                                                                                                                                                                                                                                                         |
| `npm cache clean --force`| 清除 `npm` 的本地缓存。在遇到某些安装问题时可能需要用到。                                                                                                                                                                                                                                                                                                         | `npm cache clean --force`                                                                                                                                                                                                                                              |
| `npm config set registry <url>` | 修改 `npm` 使用的包仓库地址（Registry）。常用于切换到淘宝镜像或公司内部镜像。                                                                                                                                                                                                                                                                                    | `npm config set registry https://registry.npmmirror.com/`<br>`npm config set registry https://registry.npmjs.org/` （恢复官方镜像）                                                                                                                                          |
| `npm config get registry`| 查看当前 `npm` 使用的包仓库地址。                                                                                                                                                                                                                                                                                                                                 | `npm config get registry`                                                                                                                                                                                                                                              |

---

### 2. `nvm` (Node Version Manager)

`nvm` 允许你在同一台机器上安装和切换多个 Node.js 版本。

| 命令                    | 说明                                                                                                                                                                                                                                                                                                 | 示例                                                                                                                                                                                                                                                                                                                                               |
| :---------------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `nvm install <version>` | 安装指定版本的 Node.js。                                                                                                                                                                                                                                                                               | `nvm install 18.17.0` <br> `nvm install --lts` （安装最新 LTS 版本）<br> `nvm install node` （安装最新稳定版）                                                                                                                                                                                                                                                         |
| `nvm use <version>`     | 切换当前 Shell 会话使用的 Node.js 版本。                                                                                                                                                                                                                                                                | `nvm use 18.17.0` <br> `nvm use node` （切换到最新安装的稳定版）<br> `nvm use --lts` （切换到最新 LTS 版本）                                                                                                                                                                                                                                          |
| `nvm ls`                | 列出所有已安装的 Node.js 版本，并标记当前正在使用的版本。                                                                                                                                                                                                                                                 | `nvm ls`                                                                                                                                                                                                                                                                                                                                           |
| `nvm ls-remote`         | 列出所有可供安装的 Node.js 版本及其别名。                                                                                                                                                                                                                                                               | `nvm ls-remote` <br> `nvm ls-remote --lts` （列出所有 LTS 版本）                                                                                                                                                                                                                                                                                    |
| `nvm alias <name> <version>` | 为某个 Node.js 版本创建一个别名（Alias）。例如，可以为最新 LTS 版本创建一个名为 `lts` 的别名。                                                                                                                                                                                                                   | `nvm alias lts v18.17.0` （假设 18.17.0 是 LTS）<br> `nvm alias default node` （设置默认使用最新版本）                                                                                                                                                                                                                                                         |
| `nvm uninstall <version>` | 卸载指定的 Node.js 版本。                                                                                                                                                                                                                                                                              | `nvm uninstall 16.20.0`                                                                                                                                                                                                                                                                                                                            |
| `nvm deactivate`        | 取消当前 Shell 会话中使用的 Node.js 版本。执行此命令后，`node` 和 `npm` 命令将不再可用（除非系统全局或其他方式安装了 Node.js）。                                                                                                                                                                                                                                                             | `nvm deactivate`                                                                                                                                                                                                                                                                                                                                   |
| `nvm current`           | 显示当前正在被 `nvm` 管理使用的 Node.js 版本。                                                                                                                                                                                                                                                             | `nvm current`                                                                                                                                                                                                                                                                                                                                      |
| `nvm revert`            | 回退到上一个使用的 Node.js 版本。                                                                                                                                                                                                                                                                        | `nvm revert`                                                                                                                                                                                                                                                                                                                                       |

---

### 3. `npx` (Node Package Execute)

`npx` 是 `npm` 5.2+ 版本自带的一个工具，它允许你直接运行 npm 包里的可执行文件，而无需全局安装它们。

| 命令              | 说明                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | 示例                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| :---------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `npx <command>`   | 查找并执行 Node.js 包的可执行文件。如果包尚未安装（在全局或项目本地 `node_modules/.bin` 中），`npx` 会临时下载并执行它，然后丢弃。这非常适合运行一次性的脚手架工具或命令行应用，避免污染全局环境。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | `npx create-react-app my-app` (创建一个新的 React 项目)<br>`npx serve` (启动一个静态文件服务器，如果 `serve` 包未安装，则临时下载并运行)<br>`npx eslint --init` (初始化 ESLint 配置)<br>`npx pm2 restart app_name` (如果 `pm2` 不是全局安装，或者你想确保使用特定版本的 `pm2`，可以这样做)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `npx -p <package> <command>` | （较少用）指示 `npx` 先安装指定的包，然后再运行指定的命令。这通常用于需要特定依赖项才能运行的命令。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | `npx -p typescript --yes tsc --init` （先安装 typescript，再运行 `tsc --init`）                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `npx -c <command>` | （较少用）在 `npx hello-world` 这种情况下，当一个工具（如 `hello-world`）会输出一个 shell 命令时，`-c` 可以直接执行这个输出的命令。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | `npx -c cat package.json | grep name` （如果 `cat package.json | grep name` 是一个命令行工具，则用 `-c` 执行它）                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |

`npx` 的核心价值在于它简化了对命令行工具的使用，特别是那些你只需要偶尔使用一次、不想污染全局环境的工具。


